
<div class = "card">
    <div class = "card-header">Create Sweep</div>
    <div class="card-body">
        <div class="container">

            <div class="stepwizard col-lg-12" style="width: 100%;">
                <div class="stepwizard-row setup-panel">
                  <div class="stepwizard-step">
                    <a href="#step-1" type="button" class="btn btn-primary">1</a>
                    <p>Step 1</p>
                  </div>
                  <div class="stepwizard-step">
                    <a href="#step-2" type="button" class="btn btn-default" disabled="disabled">2</a>
                    <!-- <a *ngIf="(!obj.store||!obj.brand||!obj.product)"  href="#" (click)="showError()" type="button" class="btn btn-default" disabled="disabled">02</a> -->
                    <p>Step 2</p>
                  </div>
                  <!-- <div class="stepwizard-step">
                    <a href="#step-3" type="button" class="btn btn-default" disabled="disabled">3</a>
                    <p>Step 3</p>
                  </div> -->
                  <div class="stepwizard-step">
                    <a href="#step-4" type="button" class="btn btn-default" disabled="disabled">3</a>
                    <p>Step 3</p>
                  </div>
                </div>
              </div>

              <form role="form" action="" method="post">
                <form #f="ngForm"  action="">
                <div class="row setup-content" id="step-1">
                  <div class="col-md-12">
                    <div class="col-md-12">
                      <h3> Step 1</h3>
                      <div class="row">
                          <div class="col-md-4">
                            <div class="form-group">
                                <label class="control-label">Store</label>
                                <ng-autocomplete
                                required
                                [ngStyle]="{'border':((store1.invalid && (store1.dirty || store1.touched))||(store1.invalid&&f.submitted))?'1px solid red':'1px solid #ced4da' }"
                                #store1 = "ngModel"
                                style="display: block;
                                width: 100%;

                                font-size: 1rem;
                                font-weight: 400;
                                line-height: 1.5;
                                color: #212529;

                                background-clip: padding-box;
                                border: 1px solid #ced4da;
                                -webkit-appearance: none;
                                -moz-appearance: none;
                                appearance: none;
                                border-radius: .25rem;
                                transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out;;"
                                [data]="shops"
                                [searchKeyword]="keyword"
                                (selected)='selectEvent($event)'
                                (inputChanged)='onStoreChangeSearch($event)'
                                (inputFocused)='onFocused($event)'
                                [(ngModel)]="obj.store"
                                [ngClass]="{'is-invalid':(store1.invalid && (store1.dirty || store1.touched))}"
                                placeholder="Stores"
                                required
                                name="store"
                                [itemTemplate]="itemTemplate"
                                [notFoundTemplate]="notFoundTemplate">
                              </ng-autocomplete>

                              <ng-template #itemTemplate let-item>
                              <a [innerHTML]="item.name"></a>
                              </ng-template>

                              <ng-template #notFoundTemplate let-notFound>
                              <div [innerHTML]="notFound"></div>
                              </ng-template>
                              <div *ngIf="(store1.invalid&&(store1.dirty || store1.touched)&&store1.errors.required)||(store1.invalid&&f.submitted)" class="invalid-feedback">
                                <div *ngIf="store1.errors.required">Store  is required</div>
                            </div>
                              </div>
                          </div>
                          <div class="col-md-4">
                            <div class="form-group">
                                <label class="control-label">Brand</label>
                                <ng-autocomplete
                                [ngStyle]="{'border':((brand1.invalid && (brand1.dirty || brand1.touched))||(brand1.invalid&&f.submitted))?'1px solid red':'1px solid #ced4da' }"
                                #brand1 ="ngModel"
                                required
                               style="display: block;
                                width: 100%;

                                font-size: 1rem;
                                font-weight: 400;
                                line-height: 1.5;
                                color: #212529;

                                background-clip: padding-box;
                                border: 1px solid #ced4da;
                                -webkit-appearance: none;
                                -moz-appearance: none;
                                appearance: none;
                                border-radius: .25rem;
                                transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out;;"
                                [data]="brands"
                                [searchKeyword]="keyword"
                                (selected)='selectEvent($event)'
                                (inputChanged)='onBrandChangeSearch($event)'
                                (inputFocused)='onFocused($event)'
                                [(ngModel)]="obj.brand"
                                placeholder="Brands"
                                name="brand1"
                                [itemTemplate]="itemTemplate"
                                [ngClass]="{'is-invalid':((brand1.invalid && (brand1.dirty || brand1.touched))||(brand1.invalid&&f.submitted))}"
                                [notFoundTemplate]="notFoundTemplate">
                              </ng-autocomplete>


                              <ng-template #itemTemplate let-item>
                              <a [innerHTML]="item.name"></a>
                              </ng-template>

                              <ng-template #notFoundTemplate let-notFound>
                              <div [innerHTML]="notFound"></div>
                              </ng-template>
                              <div *ngIf="((brand1.invalid && (brand1.dirty || brand1.touched))||(brand1.invalid&&f.submitted))" class="invalid-feedback">
                                <div *ngIf="brand1.errors.required">Brand  is required</div>
                            </div>
                              </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="control-label">Product</label>
                                <ng-autocomplete class="ng-autocomplete"
                                [ngStyle]="{'border':((products1.invalid && (products1.dirty || products1.touched))||(products1.invalid&&f.submitted))?'1px solid red':'1px solid #ced4da' }"
                                style=" display: block;
                                width: 100%;

                                font-size: 1rem;
                                font-weight: 400;
                                line-height: 1.5;
                                color: #212529;
                                border: 1px red;

                                background-clip: padding-box;
                                border: 1px solid #ced4da;
                                -webkit-appearance: none;
                                -moz-appearance: none;
                                appearance: none;
                                border-radius: .25rem;
                                transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out;;"
                                [data]="products"
                                [searchKeyword]="keyword"
                                required
                                (selected)='selectEvent($event)'
                                (inputChanged)='onProductChangeSearch($event)'
                                (inputFocused)='onFocused($event)'
                                [(ngModel)]="obj.product"
                                placeholder="Products"
                                [itemTemplate]="itemTemplate"
                                name="prod"
                                #products1 = "ngModel"
                                [ngClass]="{'is-invalid':((products1.invalid && (products1.dirty || products1.touched))||(products1.invalid&&f.submitted))}"
                                [notFoundTemplate]="notFoundTemplate">
                              </ng-autocomplete>

                              <ng-template #itemTemplate let-item>
                              <a [innerHTML]="item.name"></a>
                              </ng-template>

                              <ng-template #notFoundTemplate let-notFound>
                              <div [innerHTML]="notFound"></div>
                              </ng-template>
                              <div *ngIf="((products1.invalid && (products1.dirty || products1.touched))||(products1.invalid&&f.submitted))" class="invalid-feedback">
                                <div *ngIf="products1.errors.required">products  is required</div>
                            </div>
                              </div>
                              <div class="ng-autocomplete">

                                </div>
                        </div>
                      </div>
                      <div style="float: right;">
                        <button [hidden]="!(obj.store&&obj.brand&&obj.product)" class="btn btn-primary nextBtn btn-lg pull-right" type="button" >Continue</button>
                        <button class="btn btn-primary" [hidden]="!(!obj.store||!obj.brand||!obj.product)" (click)="showError()" >Continue</button>

                      </div>
                    </div>
                  </div>
                </div>
              </form>
              <form #sf="ngForm">
                <div class="row setup-content" id="step-2">
                  <div class="col-md-12">
                    <div class="col-md-12">
                      <h3> Step 2</h3>
                      <div class="row">
                          <div class="col-md-6">
                            <div class="form-group">
                                <label class="control-label">Start Date</label>
                                <input [ngClass]="{'is-invalid':((startDate.invalid && (startDate.dirty || startDate.touched))||(sf.submitted&&startDate.invalid))}" name = "startDate" #startDate="ngModel" [(ngModel)]="obj.startDate" required (change)="selectDate($event.target.value)" type="date" class="form-control" />

                                <div *ngIf="((startDate.invalid && (startDate.dirty || startDate.touched))||(sf.submitted&&startDate.invalid))" class="invalid-feedback">
                                  <div *ngIf="startDate.errors.required">Start Date is required</div>
                              </div>
                              </div>
                          </div>
                          <div class="col-md-6">
                            <div class="form-group">
                                <label class="control-label">End Date</label>

                                <input name= "endDate"  [ngClass]="{'is-invalid':((endDate.invalid && (endDate.dirty || endDate.touched))||(sf.submitted&&endDate.invalid))}"  #endDate="ngModel" type="date" required class="form-control" (change)="selectDate($event.target.value)" [(ngModel)]="obj.endDate"/>
                                <div *ngIf="((endDate.invalid && (endDate.dirty || endDate.touched))||(sf.submitted&&endDate.invalid))" class="invalid-feedback">
                                  <div *ngIf="endDate.errors.required">End Date is required</div>
                              </div>
                              </div>
                        </div>
                      </div>

                      <div style="float: right;">
                        <input class="form-check-input" type="checkbox" value="1" id="flexCheckDefault" checked>
                        <label class="form-check-label" for="flexCheckDefault" > Auto Extend</label>
                      </div>

                      <br>
                      <br>
                      <br>
                      <hr>
                      <br>

                      <div class="container" style="width: 90%;">
                        <div class="row">
                            <div class="col-md-6">
                                <h4>Select Sweep And Prizes And Set Limit</h4>
                            </div>
                            <div class="col-md-6" style="padding-left: 250px;">
                                <h6>Total Budget:<span>${{data}}</span></h6>
                            </div>
                        </div>

                          <br>

                        <div class="row">
                            <div class="col-md-3">
                                <br>
                                <br>
                                <br>
                                <br>

                                <p>Price</p>
                                <br>
                                <p>Limit</p>
                            </div>
                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="1" id="flexCheckDefault" checked>
                                <label class="form-check-label" for="flexCheckDefault" >
                                 Instance
                                </label>
                                <br>
                                <input  maxlength="100" type="text" required="required" class="form-control" [(ngModel)]="obj.instantAmount" name ="instancePrice" value="$10" placeholder="Enter Instance Price"  />
                                <br>
                                <br>
                                <input  maxlength="100" type="text" required="required" class="form-control" [(ngModel)]="obj.instantLimit" name ="instanceLimit" value="$100" placeholder="Enter Instance Limit"  />
                              </div>
                       </div>

                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="2" id="flexCheckDefault" checked>
                                <label class="form-check-label" for="flexCheckDefault" >
                                 Daily
                                </label>
                                <br>
                                <input  maxlength="100" type="text" required="required" class="form-control" [(ngModel)]="obj.dailyAmount" name ="dailyPrice" value="$100" placeholder="Enter Daily Price"  />
                                <br>
                                <br>
                                <input  maxlength="100" type="text" required="required" class="form-control" [(ngModel)]="obj.dailyLimit" name ="dailyLimit" value="$10" placeholder="Enter Daily Limit"  />
                            </div>
                        </div>

                        <div class="col-md-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="3" id="flexCheckDefault" checked>
                                <label class="form-check-label" for="flexCheckDefault" >
                                  Weekly
                                </label>
                                <br>
                                <input  maxlength="100" type="text" required="required" class="form-control" [(ngModel)]="obj.weeklyAmount" name ="weeklyPrice" value="$1000" placeholder="Enter Weekly Price"  />
                                <br>
                                <br>
                                <input  maxlength="100" type="text" required="required" class="form-control" [(ngModel)]="obj.weeklyLimit" name ="weeklyLimit" value="$1" placeholder="Enter Weekly Limit"  />
                              </div>
                        </div>

                      </div>
                    </div>


                      <div style="float: right; margin-top: 20px;">
                        <button  [hidden]="!(obj.startDate&&obj.endDate)" class="btn btn-primary nextBtn btn-lg pull-right" type="button" >Continue</button>
                        <button [hidden]="!(!obj.startDate&&!obj.endDate)" class="btn btn-primary " (click)="showError()" type="submit" >Continue</button>
                      </div>

                    </div>
                  </div>
                </div>
              </form>
                <!-- <div class="row setup-content" id="step-3">
                  <div class="col-xs-6 col-md-offset-3">
                    <div class="col-md-12">
                      <h3> Step 3</h3>
                      <div style="float: right;">
                        <button class="btn btn-primary btn-lg pull-right" (click)="save()" type="submit">Submit</button>

                      </div>
                    </div>
                  </div>

                </div> -->


                <div class="row setup-content" id="step-4">
                  <div class="col-xs-6 col-lg-12 col-md-offset-3">
                    <div class="col-md-12">
                      <h3> Step 4</h3>
                      <div class="row">

                        <div class="col-3 mt-4">
                          <img style="height: 100px; float:right" src="../../assets/images/barcode.png" alt="">
                        </div>

                        <div class="col-8 ">
                          <div class="row">
                            <p class="ml-4" style="color: black; font-weight: 500; font-size: medium;">Fund your Sweep Account</p>
                          </div>
                          <div class="row">
                            <input [(ngModel)]="fund"  maxlength="100" type="text" required="required" class="form-control mt-4"  name ="fund" value="" placeholder="Enter anything here"  />

                          </div>

                        </div>


                        <div class="col-1">
                          <button style="height: 45px; background-color: white; border: none;    margin-top: 53px;
                          margin-left: 10px;" class=""><i style="font-size:39px ;" class="fa fa-copy"></i></button>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-12 text-center font-weight-bold">
                          <p>Scan the QR code of the your account and use your mobie wallet to Pay</p>
                        </div>
                      </div>

                      <div class="row mt-4">
                        <div class="col-3"></div>
                        <div class="col-3">
                          <button class="btn btn-primary" (click)="checkCounter()">Check Funding</button>
                        </div>
                        <div class="col-3">
                          <button style="height: 39.6p;width:149px;" class="btn btn-primary" [disabled]="counter<2">Continue</button>
                        </div>
                        <div class="col-3"></div>
                      </div>
                    </div>
                  </div>

                </div>



              </form>

            </div>
    </div>
</div>
